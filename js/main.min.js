function navDropDown(){$(".dropdown").on("show.bs.dropdown",function(o){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(),$(".shows-more-dropdown").text($(".shows-more-dropdown").text()),$(".shows-more-dropdown").append($("<i class='fa fa-angle-up'></i>")),$(".shows-more-dropdown").attr("aria-expanded","true")}),$(".dropdown").on("hide.bs.dropdown",function(o){o.preventDefault(),$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(300,function(){$(this).parent().removeClass("open")}),$(".shows-more-dropdown").text($(".shows-more-dropdown").text()),$(".shows-more-dropdown").append($("<i class='fa fa-angle-down'></i>")),$(".shows-more-dropdown").attr("aria-expanded","false")})}function pagePositionScrolled(){return 100<$(".navbar").offset().top}function toggleNavCollapse(){pagePositionScrolled()&!$("#burger").hasClass("active")?($(".navbar-fixed-top").removeClass("navbar-transform"),toggleColour(returnColour(pagePositionScrolled()))):$("#burger").hasClass("active")||($(".navbar-fixed-top").addClass("navbar-transform"),toggleColour(returnColour(pagePositionScrolled())))}function returnColour(o){return o?"black":"white"}function toggleColour(o){$(".navbar-default .navbar-nav li a").css("color",o),$(".navbar-nav .dropdown-menu li a").css("color","black"),$(".navbar-default .navbar-brand").css("color",o),$(".navbar-toggle .icon-bar").css("background-color",o),$(".navbar-toggle.active .icon-bar").css({"background-color":o})}function toggleBurger(){colour=returnColour(pagePositionScrolled()),$("#burger").hasClass("active")?($(".navbar-toggle.active .icon-bar:nth-of-type(1)").css({top:"6px",transform:"rotate(45deg)"}),$(".navbar-toggle.active .icon-bar:nth-of-type(3)").css({top:"-6px",transform:"rotate(-45deg)"}),$(".navbar-toggle.active .icon-bar:nth-of-type(2)").css({"background-color":"transparent"})):($(".navbar-toggle .icon-bar:nth-of-type(1)").css({top:"",transform:""}),$(".navbar-toggle .icon-bar:nth-of-type(3)").css({top:"",transform:""}),toggleColour(returnColour(pagePositionScrolled())))}$(window).scroll(toggleNavCollapse),$(window).scroll(sherlockParallax),$(window).scroll(berlinParallax),$(window).scroll(nowParallax),$(window).scroll(popupWhenBottom),$(document).ready(toggleNavCollapse),$(document).ready(collapseContent),$(document).ready(collapseList),$(document).ready(navDropDown),$(document).ready(collapseFeedback),$(document).ready(buttonFeedback),$(document).ready(closeFeedback),$(document).ready(openContact),$(document).ready(closeContact),$(document).ready(scrollContact),$(document).ready(function(){$(".navbar-toggle").on("click",function(){$(this).toggleClass("active"),pagePositionScrolled()||$(".navbar-fixed-top").toggleClass("navbar-transform"),$("#burger").hasClass("active")?toggleColour("black"):($(".navbar-default .navbar-brand").css("color",returnColour(pagePositionScrolled())),$(".navbar-toggle .icon-bar:nth-of-type(1)").css("background-color",returnColour(pagePositionScrolled())),$(".navbar-toggle .icon-bar:nth-of-type(3)").css("background-color",returnColour(pagePositionScrolled()))),window.setTimeout(toggleBurger,500)})}),$(document).ready(function(){$(document).on("click",function(o){var e=$(o.target);!$(".navbar-collapse").hasClass("collapse in")||e.hasClass("navbar-toggle")||e.hasClass("icon-bar")||($(".dropdown").hasClass("open")&&$(".shows-more-dropdown").click(),$("#burger").click()),$(".dropdown").hasClass("open")&&o.stopPropagation()})});var cue=!1,oldX=0,oldY=0,posCount=0,feedbackDone=!1,bottomReached=!1,sneakDone=!1;function popupWhenBottom(){var o=Math.floor($("body").height()-$("footer").height());bottomReached||feedbackDone||sneakDone||$("#contact").hasClass("show-popup")||$(this).scrollTop()+$(this).height()>=o&&(bottomReached=!0,ga("send","event","PageRead","read","Bottom Reached")),bottomReached&&$(this).scrollTop()+$(this).height()<o-140&&!$("#contact").hasClass("show-popup")&&openFeedback()}function buttonFeedback(){$("#willing-feedback").on("click",function(o){o.preventDefault(),feedbackDone||openFeedback()})}function openFeedback(){$("#contact").hasClass("show-popup")||($("#feedback").switchClass("hide-popup","show-popup",100),$("#feedback").fadeIn(),sneakDone=!0)}function collapseFeedback(){$("#feedback .btn-bad").on("click",function(o){var e=$("#feedback-ask");e.hasClass("hide-feedback")&&e.switchClass("hide-feedback","show-feedback",400)})}function removeFeedbackSection(){$("#feedback").fadeOut(400,function(){$(this).remove()}),feedbackDone=!0}function closeFeedback(){$(".close-feedback").on("click",function(o){o.preventDefault(),bottomReached=!1,$("#feedback").fadeOut()}),$("#feedback .btn-feedback").on("click",function(o){$("#feedback .feedback-contents").slideUp(600,function(){$(this).remove()}),$("#feedback .popup-inner").append('<div class="row text-center" style="margin-top: 2em;"><h2><strong>Thank you for the feedback!</strong></h2></div>'),window.setTimeout(removeFeedbackSection,1500)}),$("#feedback .btn-good").on("click",function(o){if(console.log("Thank you!"),$("#feedback-ask").hasClass("show-feedback"))var e=600;else{$("#feedback-ask").remove();e=400}$("#feedback .feedback-contents").slideUp(e,function(){$(this).remove()}),$("#feedback .popup-inner").append('<div class="row text-center" style="margin-top: 2em;"><h2><strong>Thank you for the feedback!</strong></h2></div>'),window.setTimeout(removeFeedbackSection,1500)})}function openContact(){$(".btn-cta").on("click",function(o){$("#contact").switchClass("hide-popup","show-popup",100),$("#contact").fadeIn()}),$(".contact-button").on("click",function(o){o.preventDefault(),$("#contact").switchClass("hide-popup","show-popup",100),$("#contact").fadeIn()})}function closeContact(){$(".close-contact").on("click",function(o){o.preventDefault(),$("#contact").fadeOut(),$("#contact").switchClass("show-popup","hide-popup"),$("body").removeAttr("style"),$("#contact").css("overflow-y","hidden")}),$("#contact-form").on("submit",function(){ga("send","event","Customer","click","Email Sent"),$("#contact").fadeOut(),$("#contact").switchClass("show-popup","hide-popup"),$("body").removeAttr("style"),$("#contact").css("overflow-y","hidden")})}function scrollContact(){$("input, textarea").focus(function(){$("body").css("overflow-y","hidden"),$("#contact").css("overflow-y","scroll"),$("#contact-wrapper").switchClass("popup-wrapper-normal","popup-wrapper-focus")})}function collapseContent(){$(".show-more .reveals-more").on("click",function(o){o.preventDefault();var e=$(this).parent().prevAll("dd").first(),t=$(this).text().toLowerCase().trim();if($(this).parent().prevAll("ul").first().hasClass("show-list")&&e.find("a").click(),"see more"===t){t="See less ";var a="up";e.switchClass("hide-content","show-content",400)}else{t="See more ";a="down";e.switchClass("show-content","hide-content",400)}$(this).text(t),$(this).append($("<i class='fa fa-angle-"+a+"'></i>"))})}function collapseList(){$(".show-more-list .reveals-more").on("click",function(o){o.preventDefault();var e=$(this).parent().next("ul"),t=$(this).text();if(e.hasClass("hide-list")){e.switchClass("hide-list","show-list",400);var a="up"}else{e.switchClass("show-list","hide-list",400);a="down"}$(this).text(t),$(this).append($("<i class='fa fa-angle-"+a+"'></i>"))})}function mcrParallax(){var o=$(this).scrollTop();if(o<850){var e=[18,6,10,16,40];if(768<$(window).width())(e=e.map(function(o){return o+4}))[0]+=10;100<o?(red=Math.round(15+(o-100)/500*224),green=Math.round(42+(o-100)/500*174),blue=Math.round(85+(o-100)/500*38),red<239&&green<216&&blue<123&&$(".header-bg-index").css({background:"rgb("+red+", "+green+", "+blue+")"})):$(".header-bg-index").css({background:"rgb(15, 42, 85)"}),$(".mcr-sun").css({transform:"translate(0px, -"+o/e[0]+"%)"}),$(".city-clouds").css({transform:"translate(0px, "+o/e[1]+"%)"}),$(".mcr-mountains").css({transform:"translate(0px, "+o/e[2]+"%)"}),$(".mcr-back").css({transform:"translate(0px, "+o/e[3]+"%)"}),$(".mcr-front").css({transform:"translate(0px, "+o/e[4]+"%)"})}}function berlinParallax(){var o=$(this).scrollTop();if(o<850){var e=[30,10,10,20,500];if(768<$(window).width())(e=e.map(function(o){return o+4}))[0]+=10;$(".berlin-moon").css({transform:"translate(0px, -"+o/e[0]+"%)"}),$(".city-clouds").css({transform:"translate(0px, "+o/e[1]+"%)"}),$(".berlin-back").css({transform:"translate(0px, "+o/e[2]+"%)"}),$(".berlin-mid").css({transform:"translate(0px, "+o/e[3]+"%)"}),$(".berlin-front").css({transform:"translate(0px, "+o/e[4]+"%)"})}}function sherlockParallax(){if(-1<window.location.href.indexOf("SEO-sherlock")){var o=$(this).scrollTop();if(o<850){var e=[7,9,11,9,15,50];if(1680<$(window).width())e=e.map(function(o){return o+5});$(".sherlock-cloud-1").css({transform:"translate(0px, "+o/e[0]+"%)"}),$(".sherlock-cloud-2").css({transform:"translate(0px, "+o/e[1]+"%)"}),$(".sherlock-cloud-3").css({transform:"translate(0px, "+o/e[2]+"%)"}),$(".sherlock-stars").css({transform:"translate(0px, "+o/e[3]+"%)"}),$(".sherlock-moon").css({transform:"translate(0px, "+o/e[4]+"%)"}),$(".sherlock-profile").css({transform:"translate(0px, "+o/e[5]+"%)"})}}}function nowParallax(){if(-1<window.location.href.indexOf("now")){var o=$(this).scrollTop();if(o<850){var e=[8,10,12,50];$(".now-cloud-1").css({transform:"translate(0px, "+o/e[0]+"%)"}),$(".now-cloud-2").css({transform:"translate(0px, "+o/e[1]+"%)"}),$(".now-objects").css({transform:"translate(0px, "+o/e[2]+"%)"}),$(".now-laptop").css({transform:"translate(0px, -"+o/e[3]+"%)"})}}}$(document).on("mousemove",function(o){if(!sneakDone&&!feedbackDone&&o.pageX<.25*$(window).width()){var e=o.pageX,t=o.pageY-$(window).scrollTop();cue?(difX=e-oldX,difY=t-oldY,oldX=e,oldY=t,difX<=0&&difY<=0?(posCount+=1,t<1&&10<posCount&&($("#feedback h2 strong").text("Before you leave... leave some feedback"),openFeedback())):posCount=0):(oldX=e,oldY=t,cue=!0)}}),$("a.page-scroll").click(function(){var o=$(this);$("html, body").animate({scrollTop:$(o.attr("href")).offset().top},1200)});